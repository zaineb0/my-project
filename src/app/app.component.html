<div class="app-container">
  <nav class="navbar" *ngIf="showNavbar">
    <div class="nav-container">
      <div class="nav-brand">
        <a routerLink="/home" class="brand-link">Marketplace</a>
      </div>
      <div class="nav-links">
        <a routerLink="/home" class="nav-link">Accueil</a>
        <!-- Categories links -->
        <a *ngFor="let category of categories" [routerLink]="['/home']" [queryParams]="{category: category}" class="nav-link category-link">{{ category }}</a>
        <!-- Show cart for all users including visitors -->
        <a routerLink="/cart" class="nav-link cart-link">
          <span class="cart-icon">ğŸ›’</span>
          Panier ({{ cartItemCount }})
        </a>
        <!-- Show login/signup for visitors -->
        <a *ngIf="!isAuthenticated" routerLink="/login" class="nav-link">Connexion</a>
        <a *ngIf="!isAuthenticated" routerLink="/signup" class="nav-link">Inscription</a>
        <!-- Show admin link for admin -->
        <a *ngIf="userRole === 'admin'" routerLink="/admin" class="nav-link admin-link">
          <span class="admin-icon">âš™ï¸</span>
          Admin
        </a>
        <!-- Show vendeur link for vendeur -->
        <a *ngIf="userRole === 'vendeur'" routerLink="/vendeur" class="nav-link vendeur-link">
          <span class="vendeur-icon">ğŸª</span>
          Mes Produits
        </a>
        <!-- Show logout button only for authenticated users -->
        <button *ngIf="isAuthenticated" (click)="logout()" class="logout-btn">DÃ©connexion</button>
      </div>
    </div>
  </nav>
  <router-outlet></router-outlet>
</div>
